
<!doctype html>
<html><head>
<meta charset="utf-8"><title>Edit Profile - VOICE OF ELIZUBA</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="styles.css">
<script src="main.js" defer></script>
<script>
document.addEventListener('DOMContentLoaded', ()=>{
  if(!localStorage.getItem('voe_admin')){ alert('Please login'); location.href='adminlogin.html'; return; }
  loadFirebaseAndInit(()=>{
    const docRef = db.collection('meta').doc('profile');
    docRef.get().then(d=>{
      if(d.exists){ const p=d.data(); document.getElementById('name').value=p.name||''; document.getElementById('bio').value=p.bio||''; }
    });
    document.getElementById('editForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = document.getElementById('name').value;
      const bio = document.getElementById('bio').value;
      docRef.set({name,bio}).then(()=>{ alert('Saved'); location.href='profile.html'; }).catch(e=>{ console.error(e); alert('Failed'); });
    });
  });
});
</script>
</head>
<body>
  <div class="bg" style="background-image:url('editbg.png')">
    <div class="container">
     <nav><a class="btn ghost" href="admin.html" style="border: 2px solid white; color: white;">Back</a></nav>
      <h1>Edit Profile</h1>
      <form id="editForm">
        <label>Name</label><input id="name" required>
        <label>Bio / Details</label><textarea id="bio" rows="6"></textarea>
        <div><button class="btn" type="submit">Save changes</button></div>
      </form>
      <div class="home-link"><a class="btn" href="index.html">Home</a></div>
    </div>
  </div>
</body>
</html>
